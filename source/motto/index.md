---
title: 一言
date: 2019-03-25 09:32:23
type: motto
---

**2019-11-05 17:19:44**
关于代码的两点小问题

> 1. 时间存储有一个完全不可以忽视的点就是**时区**。如果不关心时区，那么数据服务跨区了，或者现在流行docker部署服务，数据存储和docker不在一个时区，就会造成问题。
> 	以mysql为例，timestrap类型在查询的时候，mysql会根据connection时区做转换，这样就会造成一个很坑的情况我一旦跨时区，mysql就会帮我做这个不必要的事情。其中一个解决办法就是涉及时区的东西，把时区都调成一致的。但是这个也不好的办法，因为timestrap从定义上来说就是和时区无关的，永远和utc+0挂钩。另外要是我不方便设置时区，或者我机器本身就部署在不同时区的，我把他强行设置成一样的也不科学。
>
> 	**我觉得最好的办法就是直接用int64去存储时间戳**，数据库只管存数据，时间换算本来就不是数据库该管的工作。如果我直接用int64存时间戳，不需要考虑mysql会不会给我转换的问题，无论跨不跨时区，时间存在哪里，他都是一致的。具体时间处理是代码的工作。
>
> 2. 关于go反射的时候如何传递空值
>
> 	使用go的反射，参数不能为空值，但是实际上我们定义的时候就是需要空值该怎么办。可以考虑给interface赋值。http://www.ojit.com/article/200345
> 

**2019-10-9 15:09:00**
在写rust代码的时候，想简化代码。最主要的依据还是**抽象程度不够，就再加一层**。还在于无论怎么抽象，需要的参数是不会少的，隐藏细节不代表细节没有了，而是层层封装，逐渐加进去。表面简洁往往代表细节复杂。

**2019-03-26 16:52:00**
他山之石可以攻玉，看不懂web项目的的组织方式去读读Rails的文档，一下就清楚了。这就是知识的迁移性。

<script src="https://gist.github.com/TigerInYourDream/8771d4a0ce49b8c3c1f075fb44a3a1fc.js"></script>
